# Atomic 3-node kubernetes with gluster storage
# - jduncan

- hosts: laptop
  vars_files:
    - passes.yml
  remote_user: root
  become: yes
  become_user: root
  become_method: sudo
  vars:
    group: cfme
    gluster: false
    cfme: true
    # The Red Hat supplied CFME image
    disk_image: "{{ lookup('env','HOME') }}/Downloads/cfme-rhos-5.6.1.2-1.x86_64.qcow2"
  roles:
  - kvm_hypervisor

- hosts: cfme
  # sudo: yes
  remote_user: root
  vars_files:
    - passes.yml
  vars:
    db_backup_file: "{{ lookup('env','HOME') }}/Downloads/cf4dbbackup"
    db_key_file: "{{ lookup('env','HOME') }}/Downloads/v2_key"
  roles:
  - common
  - cloudforms
